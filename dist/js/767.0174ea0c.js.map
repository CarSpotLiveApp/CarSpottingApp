{"version":3,"file":"js/767.0174ea0c.js","mappings":"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","sources":["webpack://csa-auth/./src/views/AddPostView.vue","webpack://csa-auth/./src/useGeolocation.js","webpack://csa-auth/../node_modules/fast-deep-equal/index.js","webpack://csa-auth/../src/index.ts","webpack://csa-auth/./src/views/AddPostView.vue?3c7b"],"sourcesContent":["<template>\r\n  <div class=\"post\">\r\n    <h1>Add a new post</h1>\r\n    <h2 id=\"txtName\"></h2>\r\n    <div>\r\n    <form id=\"form\">\r\n        <div>\r\n          <label for=\"name\" class=\"form-label\">Post name</label><br>\r\n          <input type=\"text\" name=\"name\" id=\"name\" placeholder=\"Give your post a name\"><br>\r\n          <label for=\"desc\" class=\"form-label\">Description</label><br>\r\n          <textarea name=\"desc\" id=\"desc\" placeholder=\"Add a descreption\"></textarea><br>\r\n        </div>\r\n        <div>\r\n          <h1>Your location: </h1>\r\n          <p>{{ currPos.lat.toFixed(2) }} latitude, {{ currPos.lng.toFixed(2) }} longitude</p>\r\n        </div>\r\n        <div ref=\"mapDiv\" style=\"witdth: 100%; height: 40vh; margin-left:20%; margin-right:20%;\">\r\n\r\n        </div>\r\n        <div>\r\n          <h3 id=\"location\"></h3>\r\n        </div>\r\n        <button @click = \"submit\" type=\"button\" id=\"add\">Submit</button>\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-undef */\r\nimport { auth} from '../firebase'\r\nimport { useGeolocation } from '../useGeolocation'\r\nimport { sleep } from '../useGeolocation'\r\nimport { computed, onMounted, ref } from 'vue'\r\nimport { Loader } from '@googlemaps/js-api-loader'\r\nimport router from '../router'\r\n//import { watch } from 'vue'\r\nimport { db } from '../firebase'\r\n\r\nconst GOOGLE_MAPS_API_KEY = 'AIzaSyDyqHkcm_TuRmnxsHJ9k6GHRbGa1Tt0zpA'\r\n\r\n\r\nexport default {\r\n  name: 'App',\r\n  //data() {\r\n  //    return {\r\n  //        currPos: {\r\n  //          lat: 0,\r\n  //          lng: 0\r\n  //        }\r\n  //    }\r\n  //}, \r\n  setup() { \r\n    const { coords } = useGeolocation()\r\n    const currPos = computed(() => ({\r\n      lat: coords.value.latitude,\r\n      lng: coords.value.longitude\r\n    }))\r\n    const loader = new Loader({ apiKey: GOOGLE_MAPS_API_KEY })\r\n    const mapDiv = ref(null)\r\n    onMounted(async () => {\r\n      await loader.load()\r\n      while (currPos.value.lat == 50 && currPos.value.lng == 19 ) {\r\n        window.console.log(\"Awaiting Coords\")\r\n        await sleep(500)\r\n      }\r\n      window.console.log(\"Centering Lat: \" + currPos.value.lat)\r\n      window.console.log(\"Centering Lng: \" + currPos.value.lng)\r\n      const map = new google.maps.Map(mapDiv.value, {\r\n        center: currPos.value,\r\n        zoom: 18\r\n      })\r\n      new google.maps.Marker({\r\n      position: currPos.value,\r\n      map,\r\n      title: \"You are here!\",\r\n      });\r\n    })\r\n    \r\n    return{ currPos, mapDiv }\r\n  },\r\n  mounted() {\r\n      var user = auth.currentUser;\r\n      var name, output,  username;\r\n      output = document.getElementById(\"txtName\");\r\n      //console.log(user.email);\r\n      if (user != null) {\r\n        name = user.email;\r\n        username = name.substring(0, name.indexOf('@'));\r\n        output.innerHTML= \"Welcome \" + username;\r\n      }\r\n      \r\n    },\r\n  methods: { \r\n    submit() {\r\n      const desc = document.getElementById('desc').value\r\n      const name = document.getElementById('name').value\r\n      const uid = auth.currentUser.uid\r\n      const location = this.currPos.lat.toFixed(4) + ', ' + this.currPos.lng.toFixed(4)\r\n      const email = auth.currentUser.email\r\n      const username = email.substring(0, email.indexOf('@'));\r\n      const newPost = {\r\n        post_name: name,\r\n        description: desc,\r\n        location: location,\r\n        uid: uid,\r\n        username: username\r\n      }\r\n      \r\n      db.collection('posts').add(newPost).then(() => {\r\n        window.console.log('Post added!')\r\n      })\r\n      router.push('/')\r\n    }\r\n  }\r\n};\r\n</script>","/* eslint-disable no-undef */\r\nimport { onMounted, onUnmounted, ref } from \"vue\";\r\n\r\nexport function useGeolocation() {\r\n    const coords = ref({ latitude: 50, longitude: 19 })\r\n    const isSuported = 'navigator' in window && 'geolocation' in navigator;\r\n\r\n    let watcher = null\r\n    onMounted(() => {\r\n        if (isSuported)\r\n            watcher = navigator.geolocation.watchPosition(\r\n                position => (coords.value = position.coords)\r\n        )\r\n    })\r\n    onUnmounted(() => {\r\n        if (watcher)\r\n            navigator.geolocation.clearWatch(watcher)\r\n    })\r\n    return { coords, isSuported }\r\n    \r\n}\r\n\r\n\r\nexport function sleep(ms) {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n  }\r\n\r\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n",null,"import { render } from \"./AddPostView.vue?vue&type=template&id=7a4afc2a\"\nimport script from \"./AddPostView.vue?vue&type=script&lang=js\"\nexport * from \"./AddPostView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\User\\\\Desktop\\\\CarSpottingApp\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","id","for","type","name","placeholder","ref","style","_createElementBlock","_hoisted_2","_hoisted_3","_hoisted_5","_hoisted_6","_toDisplayString","$setup","lat","toFixed","lng","_hoisted_8","onClick","$options","useGeolocation","coords","latitude","longitude","isSuported","window","navigator","watcher","onMounted","geolocation","watchPosition","position","value","onUnmounted","clearWatch","sleep","ms","Promise","resolve","setTimeout","equal","a","b","constructor","length","i","keys","Array","isArray","RegExp","source","flags","valueOf","Object","prototype","toString","hasOwnProperty","call","key","DEFAULT_ID","LoaderStatus","Loader","apiKey","authReferrerPolicy","channel","client","language","libraries","mapIds","nonce","region","retries","url","version","CALLBACK","callbacks","done","loading","errors","instance","isEqual","options","Error","stringify","JSON","status","FAILURE","SUCCESS","LOADING","INITIALIZED","failed","createUrl","join","deleteScript","script","document","getElementById","remove","load","loadPromise","reject","loadCallback","err","error","google","fn","push","execute","setScript","callback","createElement","src","onerror","loadErrorCallback","bind","defer","async","head","appendChild","reset","onerrorEvent","resetIfRetryingFailed","e","delay","Math","console","log","setCallback","__googleMapsCallback","forEach","cb","maps","warn","GOOGLE_MAPS_API_KEY","setup","currPos","computed","loader","mapDiv","map","Map","center","zoom","Marker","title","mounted","output","username","user","auth","email","substring","indexOf","innerHTML","methods","submit","desc","uid","location","this","newPost","post_name","description","db","add","then","router","__exports__","render"],"sourceRoot":""}